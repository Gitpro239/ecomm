
<% content_for :title, "Orders" %>

 <div class="w-full">
  <% if notice.present? %>
  <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
 <% end %>

 <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Orders</h1>
    <%= link_to "New order", new_admin_order_path, class: "rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
  </div>
<p class="font-bold py-3">Not Fulfilled Orders</p>
<div id="admin_orders" class="min-w-full divide-y divide-gray-200 space-y-5">
  <%# <% if @admin_orders.any? %> 
   <div class="flex flex-col sm:flex-row justify-between items-center pb-5 sm:pb-0">   

      <table class="bg-gray-50 border-b w-full">

       <thead class="text-center">

        <tr>

          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">ID</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Customer Email</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Fulfilled</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Address</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Total</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Order Time</th>
          <th colspan="3" class="text-sm font-bold text-gray-800">Action</th>

        </tr>

      </thead>
      <tbody class="text-center">
        <%# <% @admin_orders.each do |order|%> 
        <% @not_fulfilled_orders.each do |order|%>
         <tr class="bg-gray-50 border-b">

           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to order.id, [:admin, order], class: "underline"  %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.customer_email %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.fulfilled %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.address %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.total %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.created_at.strftime('%d-%m-%Y/%H:%M:%S') %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to "Show", [:admin, order], class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-green-600 hover:bg-green-500 inline-block font-medium" %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to "Edit", edit_admin_order_path(order), class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-gray-600 hover:bg-gray-500 inline-block font-medium" %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to 'Delete', admin_orders_path, method: :delete, data: { confirm: 'Are you sure?' }, class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-red-600 hover:bg-red-500 inline-block font-medium" %> </td>

         </tr>
        <% end %>

      </tbody>
    </table>

   <%# <% else %> 
    <%# <p class="text-center my-10">No Orders found.</p> %>
  </div>
 <%# <% end %> 
</div>
<%== pagy_nav(@not_fulfilled_pagy) if @not_fulfilled_pagy.pages > 1 %> 

<p class="font-bold py-2">Fulfilled Orders</p>
<div id="admin_orders" class="min-w-full divide-y divide-gray-200 space-y-5">
  <%# <% if @admin_orders.any? %> 
   <div class="flex flex-col sm:flex-row justify-between items-center pb-5 sm:pb-0">   

      <table class="bg-gray-50 border-b w-full">

       <thead class="text-center">

        <tr>

          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">ID</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Customer Email</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Fulfilled</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Address</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Total</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Order Time</th>
          <th colspan="3" class="text-sm font-bold text-gray-800">Action</th>

        </tr>

      </thead>
      <tbody class="text-center">
        <% @fulfilled_orders.each do |order|%>
         <tr class="bg-gray-50 border-b">

           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to order.id, [:admin, order], class: "underline"  %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.customer_email %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.fulfilled %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.address %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.total %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.created_at.strftime('%d-%m-%Y/%H:%M:%S') %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to "Show", [:admin, order], class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-green-600 hover:bg-green-500 inline-block font-medium" %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to "Edit", edit_admin_order_path(order), class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-gray-600 hover:bg-gray-500 inline-block font-medium" %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to 'Delete', admin_orders_path, method: :delete, data: { confirm: 'Are you sure?' }, class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-red-600 hover:bg-red-500 inline-block font-medium" %> </td>

         </tr>
        <% end %>

      </tbody>
    </table>

   <%# <% else %> 
    <%# <p class="text-center my-10">No Orders found.</p> %>
  </div>
 <%# <% end %> 
</div>
<%== pagy_nav(@fulfilled_pagy) if @fulfilled_pagy.pages > 1 %> 

<p class="font-bold py-2">All Orders</p>
<div id="admin_orders" class="min-w-full divide-y divide-gray-200 space-y-5">
  <%# <% if @admin_orders.any? %> 
   <div class="flex flex-col sm:flex-row justify-between items-center pb-5 sm:pb-0">   

      <table class="bg-gray-50 border-b w-full">

       <thead class="text-center">

        <tr>

          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">ID</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Customer Email</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Fulfilled</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Address</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Total</th>
          <th scope="col" class="text-sm font-bold text-gray-800 px-6 py-4 text-left">Order Time</th>
          <th colspan="3" class="text-sm font-bold text-gray-800">Action</th>

        </tr>

      </thead>
      <tbody class="text-center">
        <% @admin_orders.each do |order|%>
         <tr class="bg-gray-50 border-b">

           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to order.id, [:admin, order], class: "underline"  %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.customer_email %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.fulfilled %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.address %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.total %> </td>
           <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"> <%= order.created_at.strftime('%d-%m-%Y/%H:%M:%S') %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to "Show", [:admin, order], class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-green-600 hover:bg-green-500 inline-block font-medium" %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to "Edit", edit_admin_order_path(order), class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-gray-600 hover:bg-gray-500 inline-block font-medium" %> </td>
           <td class="px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-800"> <%= link_to 'Delete', admin_orders_path, method: :delete, data: { confirm: 'Are you sure?' }, class: "w-full sm:w-auto text-center text-white rounded-md px-3 py-2 bg-red-600 hover:bg-red-500 inline-block font-medium" %> </td>

         </tr>
        <% end %>

      </tbody>
    </table>

   <%# <% else %> 
    <%# <p class="text-center my-10">No Orders found.</p> %>
  </div>
 <%# <% end %> 
</div>
<%== pagy_nav(@pagy) if @pagy.pages > 1 %> 
