<% content_for :title, "Categories" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Categories</h1>
    <%= link_to "New category", new_admin_category_path, class: "rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
  </div>

  <div id="admin_categories" class="min-w-full divide-y divide-gray-200 space-y-5">
    <% if @admin_categories.any? %>
              <div class="flex flex-col sm:flex-row justify-between items-center pb-5 sm:pb-0">   
                   <table class="table-auto w-full">
                    <thead >
                      <tr>
                        
                        <th scope="col" class="text-sm font-medium text-gray-800 px-6 py-4 text-left">
                          Name
                        </th>

                        <th scope="col" class="text-sm font-medium text-gray-800 px-6 py-4 text-left">
                          Description
                        </th>

                        <th colspan="3" scope="col" class="text-sm font-medium text-gray-800 px-6 py-4 text-left">
                          Action
                        </th>
                        
                      </tr>
                    </thead>
                    <tbody>
                      <% @admin_categories.each do |category| %>
                        <tr class="bg-gray-50 border-b">

                          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800">
                             <%= image_tag(category.image, class: 'w-16') if category.image.attached? %>
                          <td>

                          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800">
                            <%= link_to category.name, edit_admin_category_path(category) %>
                          <td>
                 
                          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800">
                            <%= category.description %>
                          <td>

                          <td class="px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-800">
                            <%= link_to "Show", [:admin, category], class: "w-full sm:w-auto text-center text-white rounded-md px-3.5 py-2.5 bg-green-600 hover:bg-green-500 inline-block font-medium" %> 
                          <td>

                          <td class="px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-800">
                            <%= link_to "Edit", edit_admin_category_path(category), class: "w-full sm:w-auto text-center text-white rounded-md px-3.5 py-2.5 bg-gray-600 hover:bg-gray-500 inline-block font-medium" %>
                          <td>

                        </tr>
                      <% end %>
                    </tbody>
                  </table>    
               </div>
          </div>
     <% else %>
      <p class="text-center my-10">No categories found.</p>
    <% end %>
  </div>
</div>

